import json

from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.metrics.pairwise import cosine_similarity
import numpy as np


def get_examples():
    examples = {}
            
    examples["gsm8k"] = [
        (
            "Alex is downloading a 150 GB game. Normally, he can download at a rate of 3 GB per minute. However, 30% of the way through the download, his internet connection drops, causing a 15-minute delay while he resets his router. After the reset, Alex has to restart the download from the beginning. How long does it take for Alex to successfully download the game?",
            "First, calculate the initial download time. 30% of the 150 GB game is \(0.3 \times 150 = 45\) GB. At a rate of 3 GB per minute, it takes \(\frac{45}{3} = 15\) minutes to download 45 GB. Next, account for the internet connection drop and the router reset, which takes 15 minutes. Then, calculate the total time for the entire download after the reset. Since the download restarts from the beginning, the total file size is 150 GB. At a rate of 3 GB per minute, it takes \(\frac{150}{3} = 50\) minutes to download 150 GB. Finally, sum all the times: initial download time (15 minutes), reset time (15 minutes), and final download time (50 minutes). Therefore, the total time is \(15 + 15 + 50 = 80\) minutes."
        ),
        (
            "There are 15 trees in the grove. Grove workers will plant trees in the grove today. After they are done, there will be 21 trees. How many trees did the grove workers plant today?",
            "There are 15 trees originally. Then there were 21 trees after some more were planted. So there must have been 21 - 15 = 6. The answer is 6.",
        ),
        (
            "If there are 3 cars in the parking lot and 2 more cars arrive, how many cars are in the parking lot?",
            "There are originally 3 cars. 2 more cars arrive. 3 + 2 = 5. The answer is 5.",
        ),
        (
            "Leah had 32 chocolates and her sister had 42. If they ate 35, how many pieces do they have left in total?",
            "Originally, Leah had 32 chocolates. Her sister had 42. So in total they had 32 + 42 = 74. After eating 35, they had 74 - 35 = 39. The answer is 39.",
        ),
        (
            "Jason had 20 lollipops. He gave Denny some lollipops. Now Jason has 12 lollipops. How many lollipops did Jason give to Denny?",
            "Jason started with 20 lollipops. Then he had 12 after giving some to Denny. So he gave Denny 20 - 12 = 8. The answer is 8.",
        ),
        (
            "Shawn has five toys. For Christmas, he got two toys each from his mom and dad. How many toys does he have now?",
            "Shawn started with 5 toys. If he got 2 toys each from his mom and dad, then that is 4 more toys. 5 + 4 = 9. The answer is 9.",
        ),
        (
            "There were nine computers in the server room. Five more computers were installed each day, from monday to thursday. How many computers are now in the server room?",
            "There were originally 9 computers. For each of 4 days, 5 more computers were added. So 5 * 4 = 20 computers were added. 9 + 20 is 29. The answer is 29.",
        ),
        (
            "Michael had 58 golf balls. On tuesday, he lost 23 golf balls. On wednesday, he lost 2 more. How many golf balls did he have at the end of wednesday?",
            "Michael started with 58 golf balls. After losing 23 on tuesday, he had 58 - 23 = 35. After losing 2 more, he had 35 - 2 = 33 golf balls. The answer is 33.",
        ),
        (
            "Olivia has $23. She bought five bagels for $3 each. How much money does she have left?",
            "Olivia had 23 dollars. 5 bagels for 3 dollars each will be 5 x 3 = 15 dollars. So she has 23 - 15 dollars left. 23 - 15 is 8. The answer is 8.",
        ),
        (
            "Sarah decides to flip a house. She buys a house for $120,000 and then invests $30,000 in repairs. This increased the value of the house by 200%. How much profit did she make?",
            "Sarah decides to flip a house. She buys the house for $120,000 and invests $30,000 in repairs, bringing her total investment to $150,000. The value of the house then increases by 200%, meaning the value increases by 200% of $150,000, which equals $300,000. Therefore, the final value of the house is $150,000 plus $300,000, which gives a total value of $450,000. To find her profit, we subtract her total investment of $150,000 from the final value of $450,000, which results in a profit of $300,000. The answer is 300,000."
        ),

    ]

    examples["math"] = [
        (
            "Kevin Kangaroo begins hopping on a number line at 0. He wants to get to 1, but he can hop only $\\frac{1}{3}$ of the distance. Each hop tires him out so that he continues to hop $\\frac{1}{3}$ of the remaining distance. How far has he hopped after five hops? Express your answer as a common fraction.",
            "Let's think step by step\nKevin hops $1/3$ of the remaining distance with every hop.\nHis first hop takes $1/3$ closer.\nFor his second hop, he has $2/3$ left to travel, so he hops forward $(2/3)(1/3)$.\nFor his third hop, he has $(2/3)^2$ left to travel, so he hops forward $(2/3)^2(1/3)$.\nIn general, Kevin hops forward $(2/3)^{k-1}(1/3)$ on his $k$th hop.\nWe want to find how far he has hopped after five hops.\nThis is a finite geometric series with first term $1/3$, common ratio $2/3$, and five terms.\nThus, Kevin has hopped $\\frac{\\frac{1}{3}\\left(1-\\left(\\frac{2}{3}\\right)^5\\right)}{1-\\frac{2}{3}} = \\boxed{\\frac{211}{243}}$.\nThe answer is \\frac{211}{243}}",
        ),
        (
            "What is the area of the region defined by the equation $x^2+y^2 - 7 = 4y-14x+3$?",
            "Let's think step by step\nWe rewrite the equation as $x^2 + 14x + y^2 - 4y = 10$ and then complete the square,\nresulting in  $(x+7)^2-49 + (y-2)^2-4=10$,\nor $(x+7)^2+(y-2)^2=63$.\nThis is the equation of a circle with center $(-7, 2)$ and radius $\\sqrt{63},$\nso the area of this region is $\\pi r^2 = \\boxed{63\\pi}$.\nThe answer is 63\\pi",
        ),
        (
            "If $x^2+y^2=1$, what is the largest possible value of $|x|+|y|$?",
            "Let's think step by step\nIf $(x,y)$ lies on the circle,\nso does $(x,-y),$ $(-x,-y),$ and $(-x,-y),$ (which all give the same value of $|x| + |y|$),\nso we can assume that $x \\ge 0$ and $y \\ge 0.$\nThen $|x| + |y| = x + y.$  Squaring, we get\n\\[(x + y)^2 = x^2 + 2xy + y^2 = 1 + 2xy.\\]\nNote that $(x - y)^2 \\ge 0.$\nExpanding, we get $x^2 - 2xy + y^2 \\ge 0,$ so $2xy \\le x^2 + y^2 = 1.$\nHence,\\[1 + 2xy \\le 2,\\]which means $x + y \\le \\sqrt{2}.$\nEquality occurs when $x = y = \\frac{1}{\\sqrt{2}},$\nso the maximum value of $|x| + |y|$ is $\\boxed{\\sqrt{2}}.$\nThe answer is \\sqrt{2}",
        ),
        (
            "If $f(x)=\\frac{ax+b}{cx+d}, abcd\\not=0$ and $f(f(x))=x$ for all $x$ in the domain of $f$, what is the value of $a+d$?",
            "Let's think step by step\nThe condition $f(f(x))$ means that $f$ is the inverse of itself,\nso its graph is symmetrical about the line $y = x$.\nWith a rational function of this form, we will have two asymptotes:\na vertical one at $x=-d/c$ if $cx+d$ does not divide $ax+b$,\nand a horizontal one at $y=a/c$,\nif we take the limit of $f(x)$ as $x$ goes to $\\pm\\infty$.\nIn order for $f$ to be its own inverse, the intersection of the asymptotes must lie on the line $y=x$\nso that it and its asymptotes reflect onto themselves.\nThis means that $-d/c=a/c$,\nand therefore $-d=a$ and $a+d=\\boxed{0}$.\nThe answer is 0",
        ),
        (
            "Expand $(2z^2 + 5z - 6)(3z^3 - 2z + 1)$.",
            "Let's think step by step\n$$\\begin{array}{crrrrrrr}\n& & & 3z^3 & & -2z & + 1 & \\\\\n\\times & & & & 2z^2 & +5z & -6 \\\\\n\\cline{1-7}\\rule{0pt}{0.17in}\n& & & -18z^3 & & +12z & -6 & \\\\\n& & +15z^4 & & -10z^2 & +5z & & \\\\\n+ & 6z^5 & & -4z^3 & +2z^2 & & & \\\\\n\\cline{1-7}\\rule{0pt}{0.17in}\n& 6z^5 & +15z^4 & -22z^3 & - 8z^2 &+17z & -6 &\n\\end{array}$$\nThe answer is 6z^5+15z^4-22z^3-8z^2+17z-6",
        ),
        (
            "If $3 a ^ { m + 2 } b$ and $\\frac { 1 } { 2 } ab ^ { n - 1 }$ are similar terms, then $m + n$ is equal to.",
            "Let's think step by step\n$3 a ^ { m + 2 } b$ and $\\frac { 1 } { 2 } ab ^ { n - 1 }$ are like terms. We can obtain $m + 2 = 1$ and $n - 1 = 1$. Solving for $m$ and $n$, we get $m = - 1$ and $n = 2$. Therefore, $m + n = - 1 + 2 = 1$.\nThe answer is: 1",
        ),
        (
            "The solution to the equation $y - \\frac { y - 1 } { 2 } = - \\frac { y + 2 } { 5 }$ is ____ ?",
            "Let's think step by step\nTo eliminate the denominator, we have $10 y - 5 ( y - 1 ) = - 2 ( y + 2 )$. Expanding the brackets gives $10 y - 5 y + 5 = - 2 y - 4$. Rearranging terms gives $10 y - 5 y + 2 y = - 4 - 5$, which simplifies to $7 y = - 9$. Dividing both sides by 7 gives $y = - \\frac { 9 } { 7 }$.\nThe answer is: y = - \\frac { 9 } { 7 }",
        ),
        (
            "If $( m + 4 ) ^ 2 + | n - 3 | = 0$, then $\\frac { 1 } { 2 } m - n$ = ____?",
            "Let's think step by step\n$\\because ( m + 4 ) ^ 2 + | n - 3 | = 0$, $\\therefore m + 4 = 0$, $n - 3 = 0$, which means $m = - 4$, $n = 3$. Then the original expression equals $- 2 - 3 = - 5$.\nThe answer is: - 5",
        ),
        (
            "Given a quadratic equation in one variable $x$, $x ^ 2 + x + m = 0$, with one root being $x = 1$, what is the other root of this equation?",
            "Let's think step by step\nSuppose the quadratic equation in one variable about $x$ is $x ^ 2 + x + m = 0$, and $\\alpha$ is another real root of the equation. Since one real root of the quadratic equation in one variable about $x$ is $1$, we have $\\alpha + 1 = - 1$. Therefore, $\\alpha = - 2$.\nThe answer is: - 2",
        ),
        (
            "The parabola $y = - 5 { x } ^ 2 + 1$ is translated $2$ units upward and $1$ unit to the left, resulting in the parabola _____.",
            "Let's think step by step\nThe parabola $y = - 5 { x } ^ 2 + 1$ is first shifted upward by 2 units, resulting in $y = - 5 { x } ^ 2 + 3$. Then it is shifted left by 1 unit, resulting in $y = - 5 {( x + 1 )} ^ 2 + 3$.\nThe answer is: y = - 5 ( x + 1 )  ^ { 2 } + 3",
        ),
        (
            "If the radical $\\sqrt { x - 8 }$ is defined, then the range of real numbers for $x$ is ____ ?",
            "Let's think step by step\nSince the radical $\\sqrt { x - 8 }$ is defined, therefore $x - 8 \\ge 0$, which implies $x \\ge 8$.\nThe answer is: x \\ge 8",
        ),
        (
            "If $a ^ { m } \\times a ^ { 2 } = a ^ { 7 }$, then the value of $m$ is ____?",
            "Let's think step by step\nAccording to the multiplication rule of powers with the same base: when multiplying powers with the same base, keep the base the same and add the exponents. We have $m + 2 = 7$, so solving for $m$ gives $m = 5$.\nThe answer is: 5",
        ),
        (
            "If line segment $a$ and $b$ satisfy $\\frac { a } { b } = \\frac { 5 } { 2 }$, then the value of $\\frac { a - b } { b }$ is ____?",
            "Let's think step by step\n$\\because \\frac { a } { b } = \\frac { 5 } { 2 }$, $\\therefore$ we can assume $a = 5 k$, then $b = 2 k$, $\\therefore \\frac { a - b } { b } = \\frac { 5 k - 2 k } { 2 k } = \\frac { 3 } { 2 }$.\nThe answer is: \\frac { 3 } { 2 }",
        ),
        (
            "Find the domain of the expression $\\frac{\\sqrt{x-2}}{\\sqrt{5-x}}$.}",
            "The expressions inside each square root must be non-negative.\nTherefore, $x-2 \\ge 0$, so $x\\ge2$, and $5 - x \\ge 0$, so $x \\le 5$.\nAlso, the denominator cannot be equal to zero, so $5-x>0$, which gives $x<5$.\nTherefore, the domain of the expression is $\\boxed{[2,5)}$.",
        ),
        (
            "If $\\det \\mathbf{A} = 2$ and $\\det \\mathbf{B} = 12,$ then find $\\det (\\mathbf{A} \\mathbf{B}).$",
            "We have that $\\det (\\mathbf{A} \\mathbf{B}) = (\\det \\mathbf{A})(\\det \\mathbf{B}) = (2)(12) = \\boxed{24}.$",
        ),
        (
            "Terrell usually lifts two 20-pound weights 12 times. If he uses two 15-pound weights instead, how many times must Terrell lift them in order to lift the same total weight?",
            "If Terrell lifts two 20-pound weights 12 times, he lifts a total of $2\\cdot 12\\cdot20=480$ pounds of weight.  If he lifts two 15-pound weights instead for $n$ times, he will lift a total of $2\\cdot15\\cdot n=30n$ pounds of weight.  Equating this to 480 pounds, we can solve for $n$: \\begin{align*}\n30n&=480\\\\\\\n\\Rightarrow\\qquad n&=480/30=\\boxed{16}\n\\end{align*}",
        ),
        (
            "If the system of equations\n\n\\begin{align*}\n6x-4y&=a,\\\\\\\n6y-9x &=b.\n\\end{align*}has a solution $(x, y)$ where $x$ and $y$ are both nonzero, find $\\frac{a}{b},$ assuming $b$ is nonzero.",
            "If we multiply the first equation by $-\\frac{3}{2}$, we obtain\n\n$$6y-9x=-\\frac{3}{2}a.$$Since we also know that $6y-9x=b$, we have\n\n$$-\\frac{3}{2}a=b\\Rightarrow\\frac{a}{b}=\\boxed{-\\frac{2}{3}}.$$",
        ),
    ]
    examples["aqua"] = [
        (
            "John found that the average of 15 numbers is 40. If 10 is added to each number then the mean of the numbers is?\nAnswer Choices: (A) 50 (B) 45 (C) 65 (D) 78 (E) 64",
            "If 10 is added to each number, then the mean of the numbers also increases by 10. So the new mean would be 50. The answer is (A).",
        ),
        (
            "If a / b = 3/4 and 8a + 5b = 22,then find the value of a.\nAnswer Choices: (A) 1/2 (B) 3/2 (C) 5/2 (D) 4/2 (E) 7/2",
            "a / b = 3/4, then b = 4a / 3. So 8a + 5(4a / 3) = 22. This simplifies to 8a + 20a / 3 = 22, which means 44a / 3 = 22. So a is equal to 3/2. The answer is (B).",
        ),
        (
            "A person is traveling at 20 km/hr and reached his destiny in 2.5 hr then find the distance?\nAnswer Choices: (A) 53 km (B) 55 km (C) 52 km (D) 60 km (E) 50 km",
            "The distance that the person traveled would have been 20 km/hr * 2.5 hrs = 50 km. The answer is (E).",
        ),
        (
            "How many keystrokes are needed to type the numbers from 1 to 500?\nAnswer Choices: (A) 1156 (B) 1392 (C) 1480 (D) 1562 (E) 1788",
            "There are 9 one-digit numbers from 1 to 9. There are 90 two-digit numbers from 10 to 99. There are 401 three-digit numbers from 100 to 500. 9 + 90(2) + 401(3) = 1392. The answer is (B).",
        ),
        (
            "If $\frac{x-1}{3}=k$ and $k=3$, what is the value of $x$ ? \nAnswer Choices: (A) 2 (B) 4 (C) 9 (D) 10",
            "If k = 3, then x - 1 = 3 * 3, therfore, x - 1 = 9 and x = 10. The answer is D",
        ),
        (
            "For $i=\\sqrt{-1}$, what is the sum $(7+3 i)+(-8+9 i)$ ? \nAnswer Choices: (A) $-1+12 i$ (B) $-1-6 i$ (C) $15+12 i$ (D) $15-6 i$ 3",
            "For (7+3 i)+(-8+9 i), the real part is 7 + (-8) = -1, the imageinary part is 3 i + 9 i = 12 i. The answer is A",
        ),
        (
            "On Saturday afternoon, Armand sent $m$ text messages each hour for 5 hours, and Tyrone sent $p$ text messages each hour for 4 hours. Which of the following represents the total number of messages sent by Armand and Tyrone on Saturday afternoon?\nAnswer Choices: (A) $9 m p$ (B) $20 m p$ (C) $5 m+4 p$ (D) $4 m+5 p$",
            "Armand texts m messages each hour for 5 hours, which leads to 5m messages. Tyrone texts p messages each hour for 4 hours, which leds to 4p messages. The total is 5m + 4p. The answer is C.",
        ),
        (
            "$$\begin{array}{r}3 x+4 y=-23 \\2 y-x=-19\\end{array}$$What is the solution $(x, y)$ to the system of equations above?\nAnswer Choices: (A) $(-5,-2)$ (B) $(3,-8)$ (C) $(4,-6)$ (D) $(9,-6)$",
            "By solving this equation, we found that x = 3 and y = -8. The answer is B.",
        ),
        (
            "Simplify and write the result with a rational denominator: $$\\sqrt{\\sqrt[3]{\\sqrt{\frac{1}{729}}}}$$\nAnswer Choices: (A) \\frac{3\\sqrt{3}}{3} (B) \\frac{1}{3} (C) \\sqrt{3} (D) \\frac{\\sqrt{3}}{3}",
            "Factoring $729=3^6$ and combining the roots $\frac{1}{2}\frac{1}{3}\frac{1}{2}=\frac{1}{12}$, we get that $\\sqrt{\\sqrt[3]{\\sqrt{\frac{1}{729}}}}=\\left(\frac{1}{3^6}\right)^{\frac{1}{12}}=\frac{1}{3^{\frac{1}{2}}}=\frac{3}{\\sqrt{3}}$. The answer is (D).",
        ),
        (
            "Five thousand dollars compounded annually at an $x\\%$ interest rate takes six years to double. At the same interest rate, how many years will it take $\\$300$ to grow to $\\$9600$?\nAnswer Choices:(A) 12 (B) 1 (C) 30 (D) 5",
            "To go from $\\$300$ to $\\$9600$, the value must go up by a factor of $9600/300=32=2^5$. Since at this interest rate it takes six years for it to double, it will take $5*6=30$ years to grow to $\\$9600$. The answer is (C).",
        ),
        (
            "Ten students take a biology test and receive the following scores: 45, 55, 50, 70, 65, 80, 40, 90, 70, 85. What is the mean of the studentsâ€™ test scores?\nAnswer Choices: (A) 55 (B) 60 (C) 62 (D) 65",
            "There are 10 students and the sum of their scores is $45 + 55 + 50 + 70 + 65 + 80 + 40 + 90 + 70 + 85 = 650$, the mean is $650/10=65$. The answer is (D).",
        ),
        (
            "The variable $x$ varies directly as the square of $y$, and $y$ varies directly as the cube of $z$. If $x$ equals $-16$ when $z$ equals 2, what is the value of $x$ when $z$ equals $\frac{1}{2}$?\nAnswer Choices: (A) -1 (B) 16 (C) -\frac{1}{256} (D) \\frac{1}{16}",
            "We know that $x \\propto y^2$ and $y \\propto z^3$, so $x = k z^6$ for some constant $k$. Plugging in for $x=-16$ and $z=2$, the constant value is $k=\frac{x}{z^6}=\frac{-16}{64}=-\frac{1}{4}$. So, when $z=\frac{1}{2}$, the value of $x$ is $x=kz^6=-\frac{1}{4}\frac{1}{2^6}=-\frac{1}{256}$. The answer is (C).",
        ),
        (
            "Joe was in charge of lights for a dance. The red light blinks every two seconds, the yellow light every three seconds, and the blue light every five seconds. If we include the very beginning and very end of the dance, how many times during a seven minute dance will all the lights come on at the same time? (Assume that all three lights blink simultaneously at the very beginning of the dance.)\nAnswer Choices: (A) 3 (B) 15 (C) 6 (D) 5",
            "The least common multiple of 2, 3 and 5 is 30, so during a 7 minute dance, all the three lights will come on at the same time $2*7+1=15$ times. The answer is (B).",
        ),
    ]

    examples["aime"] = [
        ('Find <math>(\\log_2 x)^2<\\/math> if <math>\\log_2 (\\log_8 x) = \\log_8 (\\log_2 x)<\\/math>.\n\n', 'Raise both as [[exponent]]s with base 8:\n\n<cmath>\n\\begin{align*}\n8^{\\log_2 (\\log_8 x)} &= 8^{\\log_8 (\\log_2 x)}\\\\\n2^{3 \\log_2(\\log_8x)} &= \\log_2x\\\\\n(\\log_8x)^3 &= \\log_2x\\\\\n\\left(\\frac{\\log_2x}{\\log_28}\\right)^3 &= \\log_2x\\\\\n(\\log_2x)^2 &= (\\log_28)^3 = \\boxed{027}\\\\\n\\end{align*}\n<\\/cmath>\n\n----\n\nA quick explanation of the steps: On the 1st step, we use the property of [[logarithm]]s that <math>a^{\\log_a x} = x<\\/math>. On the 2nd step, we use the fact that <math>k \\log_a x = \\log_a x^k<\\/math>. On the 3rd step, we use the [[change of base formula]], which states <math>\\log_a b = \\frac{\\log_k b}{\\log_k a}<\\/math> for arbitrary <math>k<\\/math>.\n\n\n### Value:\n027'),
        ('Let <math>A = (0,0)<\\/math> and <math>B = (b,2)<\\/math> be points on the coordinate plane. Let <math>ABCDEF<\\/math> be a convex equilateral hexagon such that <math>\\angle FAB = 120^\\circ,<\\/math> <math>\\overline{AB}\\parallel \\overline{DE},<\\/math> <math>\\overline{BC}\\parallel \\overline{EF,}<\\/math> <math>\\overline{CD}\\parallel \\overline{FA},<\\/math> and the y-coordinates of its vertices are distinct elements of the set <math>\\{0,2,4,6,8,10\\}.<\\/math> The area of the hexagon can be written in the form <math>m\\sqrt {n},<\\/math> where <math>m<\\/math> and <math>n<\\/math> are positive integers and n is not divisible by the square of any prime. Find <math>m + n.<\\/math>\n\n', '\nThe y-coordinate of <math>F<\\/math> must be <math>4<\\/math>.  All other cases yield non-convex and\\/or degenerate hexagons, which violate the problem statement.\n\nLetting <math>F = (f,4)<\\/math>, and knowing that <math>\\angle FAB = 120^\\circ<\\/math>, we can use rewrite <math>F<\\/math> using complex numbers:\n<math>f + 4 i = (b + 2 i)\\left(e^{i(2 \\pi \\/ 3)}\\right) = (b + 2 i)\\left(-1\\/2 + \\frac{\\sqrt{3}}{2} i\\right) = -\\frac{b}{2}-\\sqrt{3}+\\left(\\frac{b\\sqrt{3}}{2}-1\\right)i<\\/math>.  We solve for <math>b<\\/math> and <math>f<\\/math> and find that <math>F = \\left(-\\frac{8}{\\sqrt{3}}, 4\\right)<\\/math> and that <math>B = \\left(\\frac{10}{\\sqrt{3}}, 2\\right)<\\/math>.\n\nThe area of the hexagon can then be found as the sum of the areas of two congruent triangles (<math>EFA<\\/math> and <math>BCD<\\/math>, with height <math>8<\\/math> and base <math>\\frac{8}{\\sqrt{3}}<\\/math>) and a parallelogram (<math>ABDE<\\/math>, with height <math>8<\\/math> and base <math>\\frac{10}{\\sqrt{3}}<\\/math>).\n\n<math>A = 2 \\times \\frac{1}{2} \\times 8 \\times \\frac{8}{\\sqrt{3}} + 8 \\times \\frac{10}{\\sqrt{3}} = \\frac{144}{\\sqrt{3}} = 48\\sqrt{3}<\\/math>.\n\nThus, <math>m+n = \\boxed{051}<\\/math>.\n\n\n### Value:\n051'),
        ("A tennis player computes her win ratio by dividing the number of matches she has won by the total number of matches she has played. At the start of a weekend, her win ratio is exactly <math>0.500<\\/math>. During the weekend, she plays four matches, winning three and losing one. At the end of the weekend, her win ratio is greater than <math>.503<\\/math>. What's the largest number of matches she could've won before the weekend began?\n\n", 'Let <math>n<\\/math> be the number of matches won, so that <math>\\frac{n}{2n}=\\frac{1}{2}<\\/math>, and <math>\\frac{n+3}{2n+4}>\\frac{503}{1000}<\\/math>. \n\nCross [[multiply]]ing, <math>1000n+3000>1006n+2012<\\/math>, so <math>n<\\frac{988}{6}=164 \\dfrac {4}{6}=164 \\dfrac{2}{3}<\\/math>. Thus, the answer is <math>\\boxed{164}<\\/math>.\n\n{{AIME box|year=1992|num-b=2|num-a=4}}\n[[Category:Introductory Algebra Problems]]\n{{MAA Notice}}\n\n### Value:\n164'),
        ('Alfred and Bonnie play a game in which they take turns tossing a fair coin. The winner of a game is the first person to obtain a head. Alfred and Bonnie play this game several times with the stipulation that the loser of a game goes first in the next game. Suppose that Alfred goes first in the first game, and that the probability that he wins the sixth game is <math>m\\/n\\,<\\/math>, where <math>m\\,<\\/math> and <math>n\\,<\\/math> are relatively prime positive integers. What are the last three digits of <math>m+n\\,<\\/math>?\n\n', 'The probability that the <math>n<\\/math>th flip in each game occurs and is a head is <math>\\frac{1}{2^n}<\\/math>. The first person wins if the coin lands heads on an odd numbered flip. So, the probability of the first person winning the game is <math>\\frac{1}{2}+\\frac{1}{8}+\\frac{1}{32}+\\cdots = \\frac{\\frac{1}{2}}{1-\\frac{1}{4}}=\\frac{2}{3}<\\/math>, and the probability of the second person winning is <math>\\frac{1}{3}<\\/math>. \n\nLet <math>a_n<\\/math> be the probability that Alfred wins the <math>n<\\/math>th game, and let <math>b_n<\\/math> be the probability that Bonnie wins the <math>n<\\/math>th game. \n\nIf Alfred wins the <math>n<\\/math>th game, then the probability that Alfred wins the <math>n+1<\\/math>th game is <math>\\frac{1}{3}<\\/math>. If Bonnie wins the <math>n<\\/math>th game, then the probability that Alfred wins the <math>n+1<\\/math>th game is <math>\\frac{2}{3}<\\/math>. \n\nThus, <math>a_{n+1}=\\frac{1}{3}a_n+\\frac{2}{3}b_n<\\/math>. \n\nSimilarly, <math>b_{n+1}=\\frac{2}{3}a_n+\\frac{1}{3}b_n<\\/math>. \n\nSince Alfred goes first in the <math>1<\\/math>st game, <math>(a_1,b_1)=\\left(\\frac{2}{3}, \\frac{1}{3}\\right)<\\/math>. \n\nUsing these [[recursion|recursive]] equations: \n\n<math>(a_2,b_2)=\\left(\\frac{4}{9}, \\frac{5}{9}\\right)<\\/math> \n\n<math>(a_3,b_3)=\\left(\\frac{14}{27}, \\frac{13}{27}\\right)<\\/math>\n\n<math>(a_4,b_4)=\\left(\\frac{40}{81}, \\frac{41}{81}\\right)<\\/math> \n\n<math>(a_5,b_5)=\\left(\\frac{122}{243}, \\frac{121}{243}\\right)<\\/math> \n\n<math>(a_6,b_6)=\\left(\\frac{364}{729}, \\frac{365}{729}\\right)<\\/math> \n\nSince <math>a_6=\\frac{364}{729}<\\/math>, <math>m+n = 1093 \\equiv \\boxed{093} \\pmod{1000}<\\/math>.\n\n\n### Value:\n093'),
        ('Circles of radius <math>3<\\/math> and <math>6<\\/math> are externally tangent to each other and are internally tangent to a circle of radius <math>9<\\/math>. The circle of radius <math>9<\\/math> has a chord that is a common external tangent of the other two circles. Find the square of the length of this chord.\n\n', 'We label the points as following: the centers of the circles of radii <math>3,6,9<\\/math> are <math>O_3,O_6,O_9<\\/math> respectively, and the endpoints of the chord are <math>P,Q<\\/math>. Let <math>A_3,A_6,A_9<\\/math> be the feet of the [[perpendicular]]s from <math>O_3,O_6,O_9<\\/math> to <math>\\overline{PQ}<\\/math> (so <math>A_3,A_6<\\/math> are the points of [[tangent (geometry)|tangency]]). Then we note that <math>\\overline{O_3A_3} \\parallel \\overline{O_6A_6} \\parallel \\overline{O_9A_9}<\\/math>, and <math>O_6O_9 : O_9O_3 = 3:6 = 1:2<\\/math>. Thus, <math>O_9A_9 = \\frac{2 \\cdot O_6A_6 + 1 \\cdot O_3A_3}{3} = 5<\\/math> (consider similar triangles). Applying the [[Pythagorean Theorem]] to <math>\\triangle O_9A_9P<\\/math>, we find that \n<cmath>PQ^2 = 4(A_9P)^2 = 4[(O_9P)^2-(O_9A_9)^2] = 4[9^2-5^2] = \\boxed{224}<\\/cmath>\n<center><asy>\npointpen = black; pathpen = black + linewidth(0.7); size(150);\npair A=(0,0), B=(6,0), C=(-3,0), D=C+6*expi(acos(1\\/3)), F=B+3*expi(acos(1\\/3)),G=5*expi(acos(1\\/3)), P=IP(F--F+3*(D-F),CR(A,9)), Q=IP(F--F+3*(F-D),CR(A,9));\nD(CR(D(MP("O_9",A)),9)); D(CR(D(MP("O_3",B)),3)); D(CR(D(MP("O_6",C)),6)); D(MP("P",P,NW)--MP("Q",Q,NE)); D((-9,0)--(9,0)); \nD(A--MP("A_9",G,N)); D(B--MP("A_3",F,N)); D(C--MP("A_6",D,N)); D(A--P); D(rightanglemark(A,G,P,12));\n<\\/asy><\\/center>\n\n\n### Value:\n224'),
        ('A given sequence <math>r_1, r_2, \\dots, r_n<\\/math> of distinct real numbers can be put in ascending order by means of one or more "bubble passes".  A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, <math>r_n<\\/math>, with its current predecessor and exchanging them if and only if the last term is smaller. \n\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass.  The numbers compared at each step are underlined.\n<center><math>\\underline{1 \\quad 9} \\quad 8 \\quad 7<\\/math><\\/center>\n<center><math>1 \\quad {}\\underline{9 \\quad 8} \\quad 7<\\/math><\\/center>\n<center><math>1 \\quad 8 \\quad \\underline{9 \\quad 7}<\\/math><\\/center>\n<center><math>1 \\quad 8 \\quad 7 \\quad 9<\\/math><\\/center>\nSuppose that <math>n = 40<\\/math>, and that the terms of the initial sequence <math>r_1, r_2, \\dots, r_{40}<\\/math> are distinct from one another and are in random order.  Let <math>p\\/q<\\/math>, in lowest terms, be the probability that the number that begins as <math>r_{20}<\\/math> will end up, after one bubble pass, in the <math>30^{\\mbox{th}}<\\/math> place.  Find <math>p + q<\\/math>.\n\n', 'If any of <math>r_1, \\ldots, r_{19}<\\/math> is larger than <math>r_{20}<\\/math>, one of these numbers will be compared with <math>r_{20}<\\/math> on the 19th step of the first bubble pass and <math>r_{20}<\\/math> will be moved back to the 19th position.  Thus, <math>r_{20}<\\/math> must be the largest of the first 20 terms.  In addition, <math>r_{20}<\\/math> must be larger than <math>r_{21}, r_{22}, \\ldots, r_{30}<\\/math> but smaller than <math>r_{31}<\\/math> in order that it move right to the 30th position but then not continue moving right to the 31st.\n\nThus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n\nThis is much easier to solve: there are <math>31!<\\/math> ways to order the first thirty-one numbers and <math>29!<\\/math> ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th. This gives us a desired probability of <math>\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}<\\/math>, so the answer is <math>\\boxed{931}<\\/math>.\n\n\n### Value:\n931'),
        ('Each vertex of a regular dodecagon (<math>12<\\/math>-gon) is to be colored either red or blue, and thus there are <math>2^{12}<\\/math> possible colorings. Find the number of these colorings with the property that no four vertices colored the same color are the four vertices of a rectangle.\n\n', '\nNote that the condition is equivalent to stating that there are no 2 pairs of oppositely spaced vertices with the same color.\n\nCase 1: There are no pairs. This yields <math>2<\\/math> options for each vertices 1-6, and the remaining vertices 7-12 are set, yielding <math>2^6=64<\\/math> cases.\n\nCase 2: There is one pair. Again start with 2 options for each vertex in 1-6, but now multiply by 6 since there are 6 possibilities for which pair can have the same color assigned instead of the opposite. Thus, the cases are: <math>2^6*6=384<\\/math>\n\ncase 3: There are two pairs, but oppositely colored. Start with <math>2^6<\\/math> for assigning 1-6, then multiply by 6C2=15 for assigning which have repeated colors. Divide by 2 due to half the cases having the same colored opposites. <math>2^6*15\\/2=480<\\/math>\n\nIt is apparent that no other cases exist, as more pairs would force there to be 2 pairs of same colored oppositely spaced vertices with the same color. Thus, the answer is: <math>64+384+480=\\boxed{928}<\\/math>\n\n~SAHANWIJETUNGA\n\n\n### Value:\n928'),
        ('How many positive integers less than 10,000 have at most two different digits?\n\n', 'First, let\'s count numbers with only a single digit.  We have nine of these for each length, and four lengths, so 36 total numbers.\n\nNow, let\'s count those with two distinct digits.  We handle the cases "0 included" and "0 not included" separately.\n\nThere are <math>{9 \\choose 2}<\\/math> ways to choose two digits, <math>A<\\/math> and <math>B<\\/math>.  Given two digits, there are <math>2^n - 2<\\/math> ways to arrange them in an <math>n<\\/math>-digit number, for a total of <math>(2^1 - 2) + (2^2 - 2) + (2^3 -2) + (2^4 - 2) = 22<\\/math> such numbers (or we can list them: <math>AB, BA, AAB, ABA, BAA, ABB, BAB, BBA, AAAB, AABA, ABAA,<\\/math> <math>BAAA, AABB, ABAB, BAAB, ABBA, BABA, BBAA, ABBB, BABB, BBAB, BBBA<\\/math>).  Thus, we have <math>{9 \\choose 2} \\cdot 22 = 36\\cdot22 = 792<\\/math> numbers of this form.\n\nNow, suppose 0 is one of our digits.  We have nine choices for the other digit.  For each choice, we have <math>2^{n - 1} - 1<\\/math> <math>n<\\/math>-digit numbers we can form, for a total of <math>(2^0 - 1) + (2^1 - 1) + (2^2 - 1) + (2^3 - 1) = 11<\\/math> such numbers (or we can list them: <math>A0, A00, A0A, AA0, A000, AA00, A0A0, A00A, AAA0, AA0A, A0AA<\\/math>).  This gives us <math>9\\cdot 11 = 99<\\/math> numbers of this form.\n\nThus, in total, we have <math>36 + 792 + 99 = \\boxed{927}<\\/math> such numbers.\n\n\n\n### Value:\n927'),
        ('Let <math> S <\\/math> be the set of ordered pairs <math> (x, y) <\\/math> such that <math> 0 < x \\le 1, 0<y\\le 1, <\\/math> and <math> \\left \\lfloor{\\log_2{\\left(\\frac 1x\\right)}}\\right \\rfloor <\\/math> and <math> \\left \\lfloor{\\log_5{\\left(\\frac 1y\\right)}}\\right \\rfloor <\\/math> are both even. Given that the area of the graph of <math> S <\\/math> is <math> m\\/n, <\\/math> where <math> m <\\/math> and <math> n <\\/math> are relatively prime positive integers, find <math> m+n. <\\/math> The notation <math> \\left \\lfloor{z}\\right \\rfloor<\\/math> denotes the greatest integer that is less than or equal to <math> z. <\\/math>\n\n', '<math>\\left\\lfloor\\log_2\\left(\\frac{1}{x}\\right)\\right\\rfloor<\\/math> is even when\n\n<cmath>x \\in \\left(\\frac{1}{2},1\\right) \\cup \\left(\\frac{1}{8},\\frac{1}{4}\\right) \\cup \\left(\\frac{1}{32},\\frac{1}{16}\\right) \\cup \\cdots<\\/cmath>\n\nLikewise:\n<math>\\left\\lfloor\\log_5\\left(\\frac{1}{y}\\right)\\right\\rfloor<\\/math> is even when\n\n<cmath>y \\in \\left(\\frac{1}{5},1\\right) \\cup \\left(\\frac{1}{125},\\frac{1}{25}\\right) \\cup \\left(\\frac{1}{3125},\\frac{1}{625}\\right) \\cup \\cdots<\\/cmath>\n\nGraphing this yields a series of [[rectangle]]s which become smaller as you move toward the [[origin]]. The <math>x<\\/math> interval of each box is given by the [[geometric sequence]] <math>\\frac{1}{2} , \\frac{1}{8}, \\frac{1}{32}, \\cdots<\\/math>, and the <math>y<\\/math> interval is given by <math>\\frac{4}{5} , \\frac{4}{125}, \\frac{4}{3125}, \\cdots<\\/math>\n\nEach box is the product of one term of each sequence. The sum of these boxes is simply the product of the sum of each sequence or:\n\n<cmath>\\left(\\frac{1}{2} + \\frac{1}{8} + \\frac{1}{32} \\ldots \\right)\\left(\\frac{4}{5} + \\frac{4}{125} + \\frac{4}{3125} \\ldots \\right)=\\left(\\frac{\\frac{1}{2}}{1 - \\frac{1}{4}}\\right)\\left(\\frac{\\frac{4}{5}}{1-\\frac{1}{25}}\\right)= \\frac{2}{3} \\cdot \\frac{5}{6} = \\frac{5}{9},<\\/cmath> and the answer is <math>m+n = 5 + 9 = \\boxed{014}<\\/math>.\n\n\n\n### Value:\n014'),
        ('Let <math>\\mathcal{S}<\\/math> be the set <math>\\lbrace1,2,3,\\ldots,10\\rbrace<\\/math> Let <math>n<\\/math> be the number of sets of two non-empty disjoint subsets of <math>\\mathcal{S}<\\/math>. (Disjoint sets are defined as sets that have no common elements.) Find the remainder obtained when <math>n<\\/math> is divided by <math>1000<\\/math>.\n\n', 'Let the two disjoint subsets be <math>A<\\/math> and <math>B<\\/math>, and let <math>C = S-(A+B)<\\/math>. For each <math>i \\in S<\\/math>, either <math>i \\in A<\\/math>, <math>i \\in B<\\/math>, or <math>i \\in C<\\/math>. So there are <math>3^{10}<\\/math> ways to organize the elements of <math>S<\\/math> into disjoint <math>A<\\/math>, <math>B<\\/math>, and <math>C<\\/math>. \n\nHowever, there are <math>2^{10}<\\/math> ways to organize the elements of <math>S<\\/math> such that <math>A = \\emptyset<\\/math> and <math>S = B+C<\\/math>, and there are <math>2^{10}<\\/math> ways to organize the elements of <math>S<\\/math> such that <math>B = \\emptyset<\\/math> and <math>S = A+C<\\/math>. \nBut, the combination such that <math>A = B = \\emptyset<\\/math> and <math>S = C<\\/math> is counted twice. \n\nThus, there are <math>3^{10}-2\\cdot2^{10}+1<\\/math> ordered pairs of sets <math>(A,B)<\\/math>. But since the question asks for the number of unordered sets <math>\\{ A,B \\}<\\/math>, <math>n = \\frac{1}{2}(3^{10}-2\\cdot2^{10}+1) = 28501 \\equiv \\boxed{501} \\pmod{1000}<\\/math>.  \n\n\n### Value:\n501'),
        ('Find the smallest positive integer solution to <math>\\tan{19x^{\\circ}}=\\dfrac{\\cos{96^{\\circ}}+\\sin{96^{\\circ}}}{\\cos{96^{\\circ}}-\\sin{96^{\\circ}}}<\\/math>.\n\n', '<math>\\dfrac{\\cos{96^{\\circ}}+\\sin{96^{\\circ}}}{\\cos{96^{\\circ}}-\\sin{96^{\\circ}}} =<\\/math> <math>\\dfrac{\\sin{186^{\\circ}}+\\sin{96^{\\circ}}}{\\sin{186^{\\circ}}-\\sin{96^{\\circ}}} =<\\/math> <math>\\dfrac{\\sin{(141^{\\circ}+45^{\\circ})}+\\sin{(141^{\\circ}-45^{\\circ})}}{\\sin{(141^{\\circ}+45^{\\circ})}-\\sin{(141^{\\circ}-45^{\\circ})}} =<\\/math> <math>\\dfrac{2\\sin{141^{\\circ}}\\cos{45^{\\circ}}}{2\\cos{141^{\\circ}}\\sin{45^{\\circ}}} = \\tan{141^{\\circ}}<\\/math>. \n\nThe period of the [[Trigonometry#Tangent|tangent]] function is <math>180^\\circ<\\/math>, and the tangent function is [[one-to-one]] over each period of its domain. \n\nThus, <math>19x \\equiv 141 \\pmod{180}<\\/math>. \n\nSince <math>19^2 \\equiv 361 \\equiv 1 \\pmod{180}<\\/math>, multiplying both sides by <math>19<\\/math> yields <math>x \\equiv 141 \\cdot 19 \\equiv (140+1)(18+1) \\equiv 0+140+18+1 \\equiv 159 \\pmod{180}<\\/math>. \n\nTherefore, the smallest positive solution is <math>x = \\boxed{159}<\\/math>.\n\n### Value:\n159'),
        ('Consider the integer <cmath>N = 9 + 99 + 999 + 9999 + \\cdots + \\underbrace{99\\ldots 99}_\\text{321 digits}.<\\/cmath>Find the sum of the digits of <math>N<\\/math>.\n\n', "Let's express the number in terms of <math>10^n<\\/math>. We can obtain <math>(10-1)+(10^2-1)+(10^3-1)+\\cdots+(10^{321}-1)<\\/math>. By the commutative and associative property, we can group it into <math>(10+10^2+10^3+\\cdots+10^{321})-321<\\/math>. We know the former will yield <math>1111....10<\\/math>, so we only have to figure out what the last few digits are. There are currently <math>321<\\/math> 1's. We know the last four digits are <math>1110<\\/math>, and that the others will not be affected if we subtract <math>321<\\/math>. If we do so, we get that <math>1110-321=789<\\/math>. This method will remove three <math>1<\\/math>'s, and add a <math>7<\\/math>, <math>8<\\/math> and <math>9<\\/math>. Therefore, the sum of the digits is <math>(321-3)+7+8+9=\\boxed{342}<\\/math>.\n\n-eric2020\n-another Eric in 2020\n\n\n\nA similar and simpler way to consider the initial manipulations is to observe that adding <math>1<\\/math> to each term results in <math>(10+100+... 10^{320}+10^{321})<\\/math>. There are <math>321<\\/math> terms, so it becomes <math>11...0<\\/math>, where there are <math>322<\\/math> digits in <math>11...0<\\/math>. Then, subtract the <math>321<\\/math> you initially added. \n\n~ BJHHar\n\n\n### Value:\n342"),
        ('In the middle of a vast prairie, a firetruck is stationed at the intersection of two perpendicular straight highways. The truck travels at <math>50<\\/math> miles per hour along the highways and at <math>14<\\/math> miles per hour across the prairie. Consider the set of points that can be reached by the firetruck within six minutes. The area of this region is <math>\\frac{m}{n}<\\/math> square miles, where <math>m<\\/math> and <math>n<\\/math> are relatively prime positive integers. Find <math>m + n<\\/math>.\n\n', 'Let the intersection of the highways be at the origin <math>O<\\/math>, and let the highways be the x and y axes. We consider the case where the truck moves in the positive x direction. \n\nAfter going <math>x<\\/math> miles, <math>t=\\frac{d}{r}=\\frac{x}{50}<\\/math> hours has passed. If the truck leaves the highway it can travel for at most <math>t=\\frac{1}{10}-\\frac{x}{50}<\\/math> hours, or <math>d=rt=14t=1.4-\\frac{7x}{25}<\\/math> miles. It can end up anywhere off the highway in a circle with this radius centered at <math>(x,0)<\\/math>. All these circles are [[homothety|homothetic]] with respect to a center at <math>(5,0)<\\/math>. \n<center><asy>\npair truck(pair P){\n pair Q = IP(P--P+(7\\/10,24\\/10),(35\\/31,35\\/31)--(5,0)); \n D(P--Q,EndArrow(5)); D(CP(P,Q),linewidth(0.5));\n return Q;\n}\npointpen = black; pathpen = black+linewidth(0.7); size(250);\npair B=(5,0), C=(35\\/31,35\\/31);\nD(D(B)--D(C)--D(B*dir(90))--D(C*dir(90))--D(B*dir(180))--D(C*dir(180))--D(B*dir(270))--D(C*dir(270))--cycle);\nD((-6,0)--(6,0),Arrows(4)); D((0,-6)--(0,6),Arrows(4)); truck((1,0)); truck((2,0)); truck((3,0)); truck((4,0));\n\n<\\/asy>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asy>\n\npointpen = black; pathpen = black+linewidth(0.7); size(250);\npair O=(0,0), B=(5,0), A=1.4*expi(atan(24\\/7)), C=1.4*expi(atan(7\\/24));\nD(D(B)--D(A)--D(O)); D(O--D(C)--D(B*dir(90))--D(A*dir(90))--O--D(C*dir(90))--D(B*dir(180))--D(A*dir(180))--O--D(C*dir(180))--D(B*dir(270))--D(A*dir(270))--O--D(C*dir(270))--B,linewidth(0.5)); D(CR(O,1.4)); \nD((-6,0)--(6,0),Arrows(4)); D((0,-6)--(0,6),Arrows(4));\nMP("A",A,N); MP("B",B); MP("(5,0)",B,N); D(MP("\\left(\\frac{35}{31},\\frac{35}{31}\\right)",(35\\/31,35\\/31),NE));\nD(rightanglemark(O,A,B));\n<\\/asy><\\/center>\nNow consider the circle at <math>(0,0)<\\/math>. Draw a line tangent to it at <math>A<\\/math> and passing through <math>B (5,0)<\\/math>. By the Pythagorean Theorem <math>AB^2+AO^2=OB^2 \\Longrightarrow AB=\\sqrt{OB^2-AO^2}=\\sqrt{5^2-1.4^2}=\\frac{24}{5}<\\/math>. Then <math>\\tan(\\angle ABO)=\\frac{OA}{AB}=\\frac{7}{24}<\\/math>, so the [[slope]] of line <math>AB<\\/math> is <math>\\frac{-7}{24}<\\/math>. Since it passes through <math>(5,0)<\\/math> its equation is <math>y=\\frac{-7}{24}(x-5)<\\/math>. \n\nThis line and the x and y axis bound the region the truck can go if it moves in the positive x direction. Similarly, the line <math>y=5-\\frac{24}{7}x<\\/math> bounds the region the truck can go if it moves in positive y direction. The intersection of these two lines is <math>\\left(\\frac{35}{31},\\frac{35}{31}\\right)<\\/math>. The bounded region in Quadrant I is made up of a square and two triangles. <math>A=x^2+x(5-x)=5x<\\/math>. By symmetry, the regions in the other quadrants are the same, so the area of the whole region is <math>20x=\\frac{700}{31}<\\/math> so the answer is <math>700+31=\\boxed{731}<\\/math>.\n\n\n### Value:\n731'),
        ('Let <math>N<\\/math> be the greatest integer multiple of 8, whose digits are all different. What is the remainder when <math>N<\\/math> is divided by 1000?\n\n', 'We want a number with no digits repeating, so we can only use the digits <math>0-9<\\/math> once in constructing our number. To make the greatest number, we want the greatest digit to occupy the leftmost side and the least digit to occupy the rightmost side. Therefore, the last three digits of the greatest number should be an arrangement of the digits <math>0,1,2<\\/math>. Since the number has to be divisible by 8, the integer formed by the arrangement of <math>0,1,2<\\/math> is also divisible by 8. The only arrangement that works is <math>120<\\/math>. \n\nTherefore, the remainder when the number is divided by <math>1000<\\/math> is <math>\\boxed{120}<\\/math>.\n\nNote: The number is <math>9876543120<\\/math>\n\n\n### Value:\n120'),
        ("A ''regular icosahedron'' is a <math>20<\\/math>-faced solid where each face is an equilateral triangle and five triangles meet at every vertex. The regular icosahedron shown below has one vertex at the top, one vertex at the bottom, an upper pentagon of five vertices all adjacent to the top vertex and all in the same horizontal plane, and a lower pentagon of five vertices all adjacent to the bottom vertex and all in another horizontal plane. Find the number of paths from the top vertex to the bottom vertex such that each part of a path goes downward or horizontally along an edge of the icosahedron, and no vertex is repeated.\n<asy>\nsize(3cm);\npair A=(0.05,0),B=(-.9,-0.6),C=(0,-0.45),D=(.9,-0.6),E=(.55,-0.85),F=(-0.55,-0.85),G=B-(0,1.1),H=F-(0,0.6),I=E-(0,0.6),J=D-(0,1.1),K=C-(0,1.4),L=C+K-A;\ndraw(A--B--F--E--D--A--E--A--F--A^^B--G--F--K--G--L--J--K--E--J--D--J--L--K);\ndraw(B--C--D--C--A--C--H--I--C--H--G^^H--L--I--J^^I--D^^H--B,dashed);\ndot(A^^B^^C^^D^^E^^F^^G^^H^^I^^J^^K^^L); \n<\\/asy>\n\n", 'Think about each plane independently. From the top vertex, we can go down to any of 5 different points in the second plane. From that point, there are 9 ways to go to another point within the second plane: rotate as many as 4 points clockwise or as many 4 counterclockwise, or stay in place.  Then, there are 2 paths from that point down to the third plane.  Within the third plane, there are 9 paths as well (consider the logic from the second plane).  Finally, there is only one way down to the bottom vertex.  Therefore there are <math>5 \\cdot 9 \\cdot 2 \\cdot 9 \\cdot 1=\\boxed{810}<\\/math> paths.\n\n\n### Value:\n810'),
        ('Let <math>n<\\/math> be the least positive integer for which <math>149^n-2^n<\\/math> is divisible by <math>3^3\\cdot5^5\\cdot7^7.<\\/math> Find the number of positive integer divisors of <math>n.<\\/math>\n\n', 'As usual, denote <math>v_p(n)<\\/math> the highest power of prime <math>p<\\/math> that divides <math>n<\\/math>.\n[[Lifting the Exponent]] shows that <cmath>v_3(149^n-2^n) = v_3(n) + v_3(147) = v_3(n)+1<\\/cmath> so thus, <math>3^2<\\/math> divides <math>n<\\/math>. It also shows that <cmath>v_7(149^n-2^n) = v_7(n) + v_7(147) = v_7(n)+2<\\/cmath> so thus, <math>7^5<\\/math> divides <math>n<\\/math>. \n\n\nNow, setting <math>n = 4c<\\/math> (necessitated by <math>149^n \\equiv 2^n \\pmod 5<\\/math> in order to set up LTE), we see <cmath>v_5(149^{4c}-2^{4c}) = v_5(149^{4c}-16^{c})<\\/cmath> and since <math>149^{4} \\equiv 1 \\pmod{25}<\\/math> and <math>16^1 \\equiv 16 \\pmod{25}<\\/math> then <math>v_5(149^{4c}-2^{4c})=1+v_5(c)<\\/math> meaning that we have that by LTE, <math>5^4 | c<\\/math> and <math>4 \\cdot 5^4<\\/math> divides <math>n<\\/math>. \n\nSince <math>3^2<\\/math>, <math>7^5<\\/math> and <math>4\\cdot 5^4<\\/math> all divide <math>n<\\/math>, the smallest value of <math>n<\\/math> working is their LCM, also <math>3^2 \\cdot 7^5 \\cdot 4 \\cdot 5^4 = 2^2 \\cdot 3^2 \\cdot 5^4 \\cdot 7^5<\\/math>. Thus the number of divisors is <math>(2+1)(2+1)(4+1)(5+1) = \\boxed{270}<\\/math>.\n\n~kevinmathz\n\nclarified by another user \n\nnotation note from another user\n\n\n### Value:\n270'),
        ('Let <math> \\mathcal{S} <\\/math> be the set of real numbers that can be represented as repeating decimals of the form <math> 0.\\overline{abc} <\\/math> where <math> a, b, c <\\/math> are distinct digits. Find the sum of the elements of <math> \\mathcal{S}. <\\/math>\n\n', 'Numbers of the form <math>0.\\overline{abc}<\\/math> can be written as <math>\\frac{abc}{999}<\\/math>. There are <math>10\\times9\\times8=720<\\/math> such numbers. Each digit will appear in each place value <math>\\frac{720}{10}=72<\\/math> times, and the sum of the digits, 0 through 9, is 45. So the sum of all the numbers is <math>\\frac{45\\times72\\times111}{999}= \\boxed{360} <\\/math>.\n\n\n### Value:\n360'),
        ('Each vertex of a regular dodecagon (<math>12<\\/math>-gon) is to be colored either red or blue, and thus there are <math>2^{12}<\\/math> possible colorings. Find the number of these colorings with the property that no four vertices colored the same color are the four vertices of a rectangle.\n\n', '\nNote that the condition is equivalent to stating that there are no 2 pairs of oppositely spaced vertices with the same color.\n\nCase 1: There are no pairs. This yields <math>2<\\/math> options for each vertices 1-6, and the remaining vertices 7-12 are set, yielding <math>2^6=64<\\/math> cases.\n\nCase 2: There is one pair. Again start with 2 options for each vertex in 1-6, but now multiply by 6 since there are 6 possibilities for which pair can have the same color assigned instead of the opposite. Thus, the cases are: <math>2^6*6=384<\\/math>\n\ncase 3: There are two pairs, but oppositely colored. Start with <math>2^6<\\/math> for assigning 1-6, then multiply by 6C2=15 for assigning which have repeated colors. Divide by 2 due to half the cases having the same colored opposites. <math>2^6*15\\/2=480<\\/math>\n\nIt is apparent that no other cases exist, as more pairs would force there to be 2 pairs of same colored oppositely spaced vertices with the same color. Thus, the answer is: <math>64+384+480=\\boxed{928}<\\/math>\n\n~SAHANWIJETUNGA\n\n\n### Value:\n928'),
        ('Let <math>a,b,c,d,e,f,g,h,i<\\/math> be distinct integers from <math>1<\\/math> to <math>9.<\\/math> The minimum possible positive value of <cmath>\\dfrac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i}<\\/cmath> can be written as <math>\\frac{m}{n},<\\/math> where <math>m<\\/math> and <math>n<\\/math> are relatively prime positive integers. Find <math>m+n.<\\/math>\n\n', 'To minimize a positive fraction, we minimize its numerator and maximize its denominator. It is clear that <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} \\geq \\frac{1}{7\\cdot8\\cdot9}.<\\/math>\n\nIf we minimize the numerator, then <math>a \\cdot b \\cdot c - d \\cdot e \\cdot f = 1.<\\/math> Note that <math>a \\cdot b \\cdot c \\cdot d \\cdot e \\cdot f = (a \\cdot b \\cdot c) \\cdot (a \\cdot b \\cdot c - 1) \\geq 6! = 720,<\\/math> so <math>a \\cdot b \\cdot c \\geq 28.<\\/math> It follows that <math>a \\cdot b \\cdot c<\\/math> and <math>d \\cdot e \\cdot f<\\/math> are consecutive composites with prime factors no other than <math>2,3,5,<\\/math> and <math>7.<\\/math> The smallest values for <math>a \\cdot b \\cdot c<\\/math> and <math>d \\cdot e \\cdot f<\\/math> are <math>36<\\/math> and <math>35,<\\/math> respectively. So, we have <math>\\{a,b,c\\} = \\{2,3,6\\}, \\{d,e,f\\} = \\{1,5,7\\},<\\/math> and <math>\\{g,h,i\\} = \\{4,8,9\\},<\\/math> from which <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} = \\frac{1}{288}.<\\/math>\n\nIf we do not minimize the numerator, then <math>a \\cdot b \\cdot c - d \\cdot e \\cdot f > 1.<\\/math> Note that <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} \\geq \\frac{2}{7\\cdot8\\cdot9} > \\frac{1}{288}.<\\/math>\n\nTogether, we conclude that the minimum possible positive value of <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i}<\\/math> is <math>\\frac{1}{288}.<\\/math> Therefore, the answer is <math>1+288=\\boxed{289}.<\\/math>\n\n~MRENTHUSIASM ~jgplay\n\n\n### Value:\n289'),
        ("Beatrix is going to place six rooks on a <math>6 \\times 6<\\/math> chessboard where both the rows and columns are labeled <math>1<\\/math> to <math>6<\\/math>; the rooks are placed so that no two rooks are in the same row or the same column. The ''value'' of a square is the sum of its row number and column number. The ''score'' of an arrangement of rooks is the least value of any occupied square. The average score over all valid configurations is <math>\\frac{p}{q}<\\/math>, where <math>p<\\/math> and <math>q<\\/math> are relatively prime positive integers. Find <math>p+q<\\/math>.\n\n", "We casework to find the number of ways to get each possible score. Note that the lowest possible score is <math>2<\\/math> and the highest possible score is <math>7<\\/math>. Let the bijective function <math>f(x)=\\{1,2,3,4,5,6\\} \\to \\{1,2,3,4,5,6\\}<\\/math> denote the row number of the rook for the corresponding column number.\n\n*For a score of <math>2<\\/math>, we must have <math>f(1)=1<\\/math>, and we can arrange the rest of the function however we want, so there are <math>5!=120<\\/math> ways.\n\n*For a score of <math>3<\\/math>, we must have either <math>f(1)=2<\\/math> or <math>f(2)=1<\\/math>, and we can arrange the rest of the rooks however we want, so by PIE the number of ways is <math>5!+5!-4!=216<\\/math>.\n\n*For a score of <math>4<\\/math>, we must have <math>f(1)=3<\\/math>, <math>f(2)=2<\\/math>, or <math>f(3)=1<\\/math>. If <math>f(1)=3<\\/math>, we just don't want <math>f(2)=1<\\/math>, if <math>f(2)=2<\\/math>, we don't want <math>f(1)=1<\\/math>, or if <math>f(3)=1<\\/math>, we don't want <math>f(1)=2<\\/math>, otherwise we can arrange the function however we like. If at least <math>2<\\/math> of the values rooks have a value of <math>4<\\/math>, we can arange the rest of the rooks however we like, so there are <math>3(5!-4!)-3(4!)+3!=222<\\/math> by PIE.\n\n*If the score is <math>5<\\/math>, then we have either <math>f(4)=1<\\/math>, <math>f(3)=2<\\/math>, <math>f(2)=3<\\/math>, or <math>f(1)=4<\\/math>. If we have the first case, we don't want <math>f(2)=2<\\/math>, <math>f(1)=2<\\/math>, or <math>f(1)=3<\\/math>, so by PIE the number of bad cases is <math>4!+4!-3!=42<\\/math>. If we have the second case, then we don't want <math>f(2)=1<\\/math>, <math>f(1)=1<\\/math>, or <math>f(1)=3<\\/math>, so similarly there are <math>42<\\/math> bad cases. Therefore, there are a total of <math>54<\\/math> good cases for each one. The number of ways to get <math>f(1)=1, f(1)=4<\\/math> is <math>4!-3!<\\/math> because we don't want <math>f(2)=2<\\/math>, the number of ways to get <math>f(4)=1, f(2)=3<\\/math> is <math>4!-3!<\\/math> ways because we don't want <math>f(1)=2<\\/math>, the number of ways to get <math>f(2)=3, f(3)=2<\\/math> is <math>4!-3!<\\/math> ways because we don't want <math>f(1)=1<\\/math>, and the number of ways to get <math>f(1)=4, f(2)=3<\\/math> is <math>4!-3!<\\/math> ways because we don't want <math>f(3)=1<\\/math>. The number of ways to get at least <math>3<\\/math> cases satisfied is <math>3! \\cdot 4<\\/math> because we can arrange the remaining rooks however we like, and the number of ways to get all <math>4<\\/math> cases satisfied is <math>2!=2<\\/math>  ways because we can arrange the remaining rooks however we like, so by PIE we have <math>54 \\cdot 4-18 \\cdot 6 + 3! \\cdot 4-2!=130<\\/math> ways to get a score of <math>5<\\/math>.\n\n*The only way to get a score of <math>7<\\/math> is to have all the rooks run on the antidiagonal. Therefore, the number of ways to get a sum of <math>6<\\/math> is <math>6!-120-216-222-130-1=31<\\/math>.\nThus, the expected sum is <math>\\dfrac{120 \\cdot 2 + 216 \\cdot 3 + 222 \\cdot 4 + 130 \\cdot 5 + 31 \\cdot 6 + 1 \\cdot 7}{720}= \\dfrac{2619}{720}=\\dfrac{291}{80}<\\/math>, so the desired answer is <math>291+80=\\boxed{371}<\\/math>.\n\n\n### Value:\n371"),
        ('Find the three-digit positive integer <math>\\underline{a}\\,\\underline{b}\\,\\underline{c}<\\/math> whose representation in base nine is <math>\\underline{b}\\,\\underline{c}\\,\\underline{a}_{\\,\\text{nine}},<\\/math> where <math>a,<\\/math> <math>b,<\\/math> and <math>c<\\/math> are (not necessarily distinct) digits.\n\n', '\nWe are given that <cmath>100a + 10b + c = 81b + 9c + a,<\\/cmath> which rearranges to <cmath>99a = 71b + 8c.<\\/cmath>\nTaking both sides modulo <math>71,<\\/math> we have\n<cmath>\\begin{align*}\n28a &\\equiv 8c \\pmod{71} \\\\\n7a &\\equiv 2c \\pmod{71}.\n\\end{align*}<\\/cmath>\nThe only solution occurs at <math>(a,c)=(2,7),<\\/math> from which <math>b=2.<\\/math>\n\nTherefore, the requested three-digit positive integer is <math>\\underline{a}\\,\\underline{b}\\,\\underline{c}=\\boxed{227}.<\\/math>\n\n~MRENTHUSIASM\n\n\n### Value:\n227'),
        ('Let <math>A = (0,0)<\\/math> and <math>B = (b,2)<\\/math> be points on the coordinate plane. Let <math>ABCDEF<\\/math> be a convex equilateral hexagon such that <math>\\angle FAB = 120^\\circ,<\\/math> <math>\\overline{AB}\\parallel \\overline{DE},<\\/math> <math>\\overline{BC}\\parallel \\overline{EF,}<\\/math> <math>\\overline{CD}\\parallel \\overline{FA},<\\/math> and the y-coordinates of its vertices are distinct elements of the set <math>\\{0,2,4,6,8,10\\}.<\\/math> The area of the hexagon can be written in the form <math>m\\sqrt {n},<\\/math> where <math>m<\\/math> and <math>n<\\/math> are positive integers and n is not divisible by the square of any prime. Find <math>m + n.<\\/math>\n\n', '\nThe y-coordinate of <math>F<\\/math> must be <math>4<\\/math>.  All other cases yield non-convex and\\/or degenerate hexagons, which violate the problem statement.\n\nLetting <math>F = (f,4)<\\/math>, and knowing that <math>\\angle FAB = 120^\\circ<\\/math>, we can use rewrite <math>F<\\/math> using complex numbers:\n<math>f + 4 i = (b + 2 i)\\left(e^{i(2 \\pi \\/ 3)}\\right) = (b + 2 i)\\left(-1\\/2 + \\frac{\\sqrt{3}}{2} i\\right) = -\\frac{b}{2}-\\sqrt{3}+\\left(\\frac{b\\sqrt{3}}{2}-1\\right)i<\\/math>.  We solve for <math>b<\\/math> and <math>f<\\/math> and find that <math>F = \\left(-\\frac{8}{\\sqrt{3}}, 4\\right)<\\/math> and that <math>B = \\left(\\frac{10}{\\sqrt{3}}, 2\\right)<\\/math>.\n\nThe area of the hexagon can then be found as the sum of the areas of two congruent triangles (<math>EFA<\\/math> and <math>BCD<\\/math>, with height <math>8<\\/math> and base <math>\\frac{8}{\\sqrt{3}}<\\/math>) and a parallelogram (<math>ABDE<\\/math>, with height <math>8<\\/math> and base <math>\\frac{10}{\\sqrt{3}}<\\/math>).\n\n<math>A = 2 \\times \\frac{1}{2} \\times 8 \\times \\frac{8}{\\sqrt{3}} + 8 \\times \\frac{10}{\\sqrt{3}} = \\frac{144}{\\sqrt{3}} = 48\\sqrt{3}<\\/math>.\n\nThus, <math>m+n = \\boxed{051}<\\/math>.\n\n\n### Value:\n051'),
        ('Find the number of positive integers <math>n<\\/math> less than <math>2017<\\/math> such that <cmath>1+n+\\frac{n^2}{2!}+\\frac{n^3}{3!}+\\frac{n^4}{4!}+\\frac{n^5}{5!}+\\frac{n^6}{6!}<\\/cmath> is an integer.\n\n', 'We start with the last two terms of the polynomial <math>1+n+\\frac{n^2}{2!}+\\frac{n^3}{3!}+\\frac{n^4}{4!}+\\frac{n^5}{5!}+\\frac{n^6}{6!}<\\/math>, which are <math>\\frac{n^5}{5!}+\\frac{n^6}{6!}<\\/math>. This can simplify to <math>\\frac{6n^5+n^6}{720}<\\/math>, which can further simplify to <math>\\frac{n^5(6+n)}{720}<\\/math>. Notice that the prime factorization of <math>720<\\/math> is <math>5\\cdot3\\cdot3\\cdot2\\cdot2\\cdot2\\cdot2<\\/math>. In order for <math>\\frac{n^5(6+n)}{720}<\\/math> to be an integer, one of the parts must divide <math>5, 3<\\/math>, and <math>2<\\/math>. Thus, one of the parts must be a multiple of <math>5, 3<\\/math>, and <math>2<\\/math>, and the LCM  of these three numbers is <math>30<\\/math>. This means <cmath>n^5 \\equiv 0\\pmod{30}<\\/cmath> or <cmath>6+n \\equiv 0\\pmod{30}<\\/cmath> Thus, we can see that <math>n<\\/math> must equal <math>0\\pmod{30}<\\/math> or <math>-6\\pmod{30}<\\/math>. Note that as long as we satisfy <math>\\frac{6n^5+n^6}{720}<\\/math>, <math>2!, 3!<\\/math>, and <math>4!<\\/math> will all divide into integers, as their prime factorizations will be fulfilled with the LCM being 30. E.g. <math>4! = 2\\cdot2\\cdot2\\cdot2\\cdot3<\\/math>, and this will be divisible by <math>2^4\\cdot3^4\\cdot5^4<\\/math>. Now, since we know that <math>n<\\/math> must equal <math>0\\pmod{30}<\\/math> or <math>-6\\pmod{30}<\\/math> in order for the polynomial to be an integer, <math>n\\equiv0, 24\\pmod{30}<\\/math>. To find how many integers fulfill the equation and are <math><2017<\\/math>, we take <math>\\left \\lfloor\\frac{2017}{30} \\right \\rfloor<\\/math> and multiply it by <math>2<\\/math>. Thus, we get <math>67\\cdot2=\\boxed{134}<\\/math>.\n\n~Solution by IronicNinja~\n\n\n### Value:\n134'),
        ("Let the set <math> \\mathcal{S} = \\{8, 5, 1, 13, 34, 3, 21, 2\\}. <\\/math> Susan makes a list as follows: for each two-element subset of <math> \\mathcal{S}, <\\/math> she writes on her list the greater of the set's two elements. Find the sum of the numbers on the list.\n\n", 'Order the numbers in the set from greatest to least to reduce error: <math>\\{34, 21, 13, 8, 5, 3, 2, 1\\}.<\\/math>\nEach [[element]] of the [[set]] will appear in <math>7<\\/math> two-element [[subset]]s, once with each other number.\n\n*<math>34<\\/math> will be the greater number in <math>7<\\/math> subsets. \n*<math>21<\\/math> will be the greater number in <math>6<\\/math> subsets. \n*<math>13<\\/math> will be the greater number in <math>5<\\/math> subsets. \n*<math>8<\\/math> will be the greater number in <math>4<\\/math> subsets. \n*<math>5<\\/math> will be the greater number in <math>3<\\/math> subsets. \n*<math>3<\\/math> will be the greater number in <math>2<\\/math> subsets. \n*<math>2<\\/math> will be the greater number in <math>1<\\/math> subsets. \n*<math>1<\\/math> will be the greater number in <math>0<\\/math> subsets. \n\nTherefore the desired sum is <math>34\\cdot7+21\\cdot6+13\\cdot5+8\\cdot4+5\\cdot3+3 \\cdot2+2\\cdot1+1\\cdot0=\\boxed{484}<\\/math>.\n\n\n\n### Value:\n484'),
        ('In a group of nine people each person shakes hands with exactly two of the other people from the group. Let <math>N<\\/math> be the number of ways this handshaking can occur. Consider two handshaking arrangements different if and only if at least two people who shake hands under one arrangement do not shake hands under the other arrangement. Find the remainder when <math>N<\\/math> is divided by <math>1000<\\/math>.\n\n', "Given that each person shakes hands with two people, we can view all of these through graph theory as 'rings'.  This will split it into four cases:  Three rings of three, one ring of three and one ring of six, one ring of four and one ring of five, and one ring of nine. (All other cases that sum to nine won't work, since they have at least one 'ring' of two or fewer points, which doesn't satisfy the handshaking conditions of the problem.)\n\n'''Case 1:'''   To create our groups of three, there are <math>\\dfrac{\\dbinom{9}{3}\\dbinom{6}{3}\\dbinom{3}{3}}{3!}<\\/math>.  In general, the number of ways we can arrange people within the rings to count properly is <math>\\dfrac{(n-1)!}{2}<\\/math>, since there are <math>(n-1)!<\\/math> ways to arrange items in the circle, and then we don't want to want to consider reflections as separate entities.  Thus, each of the three cases has <math>\\dfrac{(3-1)!}{2}=1<\\/math> arrangements.  Therefore, for this case, there are <math>\\left(\\dfrac{\\dbinom{9}{3}\\dbinom{6}{3}\\dbinom{3}{3}}{3!}\\right)(1)^3=280<\\/math>\n\n'''Case 2:'''  For three and six, there are <math>\\dbinom{9}{6}=84<\\/math> sets for the rings.  For organization within the ring, as before, there is only one way to arrange the ring of three.  For six, there is <math>\\dfrac{(6-1)!}{2}=60<\\/math>.  This means there are <math>(84)(1)(60)=5040<\\/math> arrangements.\n\n'''Case 3:'''  For four and five, there are <math>\\dbinom{9}{5}=126<\\/math> sets for the rings.  Within the five, there are <math>\\dfrac{4!}{2}=12<\\/math>, and within the four there are <math>\\dfrac{3!}{2}=3<\\/math> arrangements.  This means the total is <math>(126)(12)(3)=4536<\\/math>.\n\n'''Case 4:'''  For the nine case, there is <math>\\dbinom{9}{9}=1<\\/math> arrangement for the ring.  Within it, there are <math>\\dfrac{8!}{2}=20160<\\/math> arrangements.\n\nSumming the cases, we have <math>280+5040+4536+20160=30016 \\to \\boxed{016}<\\/math>.\n\n\n### Value:\n016"),
        ('The wheel shown below consists of two circles and five spokes, with a label at each point where a spoke meets a circle. A bug walks along the wheel, starting at point <math>A<\\/math>. At every step of the process, the bug walks from one labeled point to an adjacent labeled point. Along the inner circle the bug only walks in a counterclockwise direction, and along the outer circle the bug only walks in a clockwise direction. For example, the bug could travel along the path <math>AJABCHCHIJA<\\/math>, which has <math>10<\\/math> steps. Let <math>n<\\/math> be the number of paths with <math>15<\\/math> steps that begin and end at point <math>A.<\\/math> Find the remainder when <math>n<\\/math> is divided by <math>1000<\\/math>.\n\n<asy>\nsize(6cm);\n\ndraw(unitcircle);\ndraw(scale(2) * unitcircle);\nfor(int d = 90; d < 360 + 90; d += 72){\ndraw(2 * dir(d) -- dir(d));\n}\n\ndot(1 * dir( 90), linewidth(5));\ndot(1 * dir(162), linewidth(5));\ndot(1 * dir(234), linewidth(5));\ndot(1 * dir(306), linewidth(5));\ndot(1 * dir(378), linewidth(5));\ndot(2 * dir(378), linewidth(5));\ndot(2 * dir(306), linewidth(5));\ndot(2 * dir(234), linewidth(5));\ndot(2 * dir(162), linewidth(5));\ndot(2 * dir( 90), linewidth(5));\n\nlabel("$A$", 1 * dir( 90), -dir( 90));\nlabel("$B$", 1 * dir(162), -dir(162));\nlabel("$C$", 1 * dir(234), -dir(234));\nlabel("$D$", 1 * dir(306), -dir(306));\nlabel("$E$", 1 * dir(378), -dir(378));\nlabel("$F$", 2 * dir(378), dir(378));\nlabel("$G$", 2 * dir(306), dir(306));\nlabel("$H$", 2 * dir(234), dir(234));\nlabel("$I$", 2 * dir(162), dir(162));\nlabel("$J$", 2 * dir( 90), dir( 90));\n<\\/asy>\n\n', 'We divide this up into casework.  The "directions" the bug can go are <math>\\text{Clockwise}<\\/math>, <math>\\text{Counter-Clockwise}<\\/math>, and <math>\\text{Switching}<\\/math>.  Let an <math>I<\\/math> signal going clockwise (because it has to be in the \'\'inner\'\' circle), an <math>O<\\/math> signal going counter-clockwise, and an <math>S<\\/math> switching between inner and outer circles.  An example string of length fifteen that gets the bug back to <math>A<\\/math> would be <math>ISSIIISOOSISSII<\\/math>.\nFor the bug to end up back at <math>A<\\/math>, the difference between the number of <math>I<\\/math>\'s and <math>O<\\/math>\'s must be a multiple of <math>5<\\/math>.\n;Case 1  --  There are 15 more <math>I<\\/math>\'s than <math>O<\\/math>\'s.\n:There is clearly <math>1<\\/math> way for this to happen.\n\n;Case 2  --  There are <math>5<\\/math> more <math>I<\\/math>\'s than <math>O<\\/math>\'s.\n:We split this case up into several sub-cases based on the number of <math>S<\\/math>\'s.\n:;Sub-case 1  --  There are <math>10<\\/math> <math>S<\\/math>\'s and <math>5<\\/math> <math>I<\\/math>\'s.\n::Notice that the number of ways to order the <math>I<\\/math>\'s and <math>O<\\/math>\'s are independent assortments because the <math>I<\\/math>\'s must be in the "even" spaces between <math>S<\\/math>\'s (i.e. before the 1st <math>S<\\/math>, between the 2nd and 3rd <math>S<\\/math>\'s, etc.), while the <math>O<\\/math>\'s must be in the "odd" spaces.\n\n::There are <math>6<\\/math> places to put the <math>I<\\/math>\'s (after the 0th, 2nd, 4th, 6th, 8th, and 10th <math>S<\\/math>\'s), and <math>4<\\/math> places to put the (0) <math>O<\\/math>\'s.  We use stars and bars to get an answer of <math>\\binom{10}{5}\\binom{4}{0}<\\/math>\n:;Sub-case 2  --  There are <math>8<\\/math> <math>S<\\/math>\'s, <math>6<\\/math> <math>I<\\/math>\'s, and <math>1<\\/math> <math>O<\\/math>.\n::Similarly and by using stars and bars, we get an amount of <math>\\binom{10}{4}\\binom{4}{1}<\\/math>\n:All the other  sub-cases are similar, with a total of <math>\\binom{10}{5}\\binom{4}{0}+\\binom{10}{4}\\binom{4}{1}+\\cdots+\\binom{10}{1}\\binom{4}{4}=\\binom{14}{5}=2002<\\/math> by [https:\\/\\/artofproblemsolving.com\\/wiki\\/index.php?title=Combinatorial_identity#Vandermonde.27s_Identity Vandermonde\'s Identity].\n\n;Case 3  --  There are <math>5<\\/math> more <math>O<\\/math>\'s than <math>I<\\/math>\'s.\n:This case is similar to the other case.\n:Here is an example of a sub-case for this case.\n:;Sub-case:  There are <math>10<\\/math> <math>S<\\/math>\'s and <math>5<\\/math> <math>O<\\/math>\'s.\n::There are <math>\\binom{9}{4}\\binom{5}{0}<\\/math> ways to do this.\n:We can see now that the pattern is going to be <math>\\binom{9}{4}\\binom{5}{0}+\\binom{9}{3}\\binom{5}{1}+\\cdots+\\binom{9}{0}\\binom{5}{4}=\\binom{14}{4}=1001<\\/math>.\n\n\nSo, the total number of ways is <math>1+2002+1001=3004<\\/math> which gives <math>\\boxed{004}<\\/math> as the answer.\n\n\n### Value:\n004'),
        ('Circle <math>C<\\/math> with radius 2 has diameter <math>\\overline{AB}<\\/math>. Circle <math>D<\\/math> is internally tangent to circle <math>C<\\/math> at <math>A<\\/math>. Circle <math>E<\\/math> is internally tangent to circle <math>C<\\/math>, externally tangent to circle <math>D<\\/math>, and tangent to <math>\\overline{AB}<\\/math>. The radius of circle <math>D<\\/math> is three times the radius of circle <math>E<\\/math>, and can be written in the form <math>\\sqrt{m}-n<\\/math>, where <math>m<\\/math> and <math>n<\\/math> are positive integers. Find <math>m+n<\\/math>.\n\n', '<center>\n<asy>\nimport graph; size(7.99cm); \nreal labelscalefactor = 0.5; \npen dps = linewidth(0.7) + fontsize(10); defaultpen(dps);\npen dotstyle = black; \nreal xmin = 4.087153740193288, xmax = 11.08175859031552, ymin = -4.938019122704778, ymax = 1.194137062512079; \ndraw(circle((7.780000000000009,-1.320000000000002), 2.000000000000000)); \ndraw(circle((7.271934046987930,-1.319179731427737), 1.491933384829670)); \ndraw(circle((9.198812158392690,-0.8249788848962227), 0.4973111282761416)); \ndraw((5.780002606580324,-1.316771019595571)--(9.779997393419690,-1.323228980404432)); \ndraw((9.198812158392690,-0.8249788848962227)--(9.198009254448635,-1.322289365031666)); \ndraw((7.271934046987930,-1.319179731427737)--(9.198812158392690,-0.8249788848962227)); \ndraw((9.198812158392690,-0.8249788848962227)--(7.780000000000009,-1.320000000000002)); \ndot((7.780000000000009,-1.320000000000002),dotstyle); \nlabel("$C$", (7.707377218471464,-1.576266740352400), NE * labelscalefactor); \ndot((7.271934046987930,-1.319179731427737),dotstyle); \nlabel("$D$", (7.303064016111554,-1.276266740352400), NE * labelscalefactor); \ndot((9.198812158392690,-0.8249788848962227),dotstyle); \nlabel("$E$", (9.225301294671791,-0.7792624249832147), NE * labelscalefactor); \ndot((9.198009254448635,-1.322289365031666),dotstyle); \nlabel("$F$", (9.225301294671791,-1.276266740352400), NE * labelscalefactor); \ndot((9.779997393419690,-1.323228980404432),dotstyle); \nlabel("$B$", (9.810012253929656,-1.276266740352400), NE * labelscalefactor); \ndot((5.780002606580324,-1.316771019595571),dotstyle); \nlabel("$A$", (5.812051070003994,-1.276266740352400), NE * labelscalefactor); \nclip((xmin,ymin)--(xmin,ymax)--(xmax,ymax)--(xmax,ymin)--cycle);\n<\\/asy>\n<\\/center>\n\nUsing the diagram above, let the radius of <math>D<\\/math> be <math>3r<\\/math>, and the radius of <math>E<\\/math> be <math>r<\\/math>. Then, <math>EF=r<\\/math>, and <math>CE=2-r<\\/math>, so the Pythagorean theorem in <math>\\triangle CEF<\\/math> gives <math>CF=\\sqrt{4-4r}<\\/math>. Also, <math>CD=CA-AD=2-3r<\\/math>, so <cmath>DF=DC+CF=2-3r+\\sqrt{4-4r}.<\\/cmath> Noting that <math>DE=4r<\\/math>, we can now use the Pythagorean theorem in <math>\\triangle DEF<\\/math> to get \n<cmath>(2-3r+\\sqrt{4-4r})^2+r^2=16r^2.<\\/cmath>\n\nSolving this quadratic is somewhat tedious, but the constant terms cancel, so the computation isn\'t terrible. Solving gives <math>3r=\\sqrt{240}-14<\\/math> for a final answer of <math>\\boxed{254}<\\/math>.\n\n*Notice that C, E and the point of tangency to circle C for circle E will be collinear because C and E intersect the tangent line at a right angle, implying they must be on the same line.\n\n\n### Value:\n254'),
        ('Let <math>ABCD^{}_{}<\\/math> be a tetrahedron with <math>AB=41^{}_{}<\\/math>, <math>AC=7^{}_{}<\\/math>, <math>AD=18^{}_{}<\\/math>, <math>BC=36^{}_{}<\\/math>, <math>BD=27^{}_{}<\\/math>, and <math>CD=13^{}_{}<\\/math>, as shown in the figure. Let <math>d^{}_{}<\\/math> be the distance between the midpoints of edges <math>AB^{}_{}<\\/math> and <math>CD^{}_{}<\\/math>. Find <math>d^{2}_{}<\\/math>.\n\n[[Image:AIME_1989_Problem_12.png|center]]\n\n', "Call the midpoint of <math>\\overline{AB}<\\/math> <math>M<\\/math> and the midpoint of <math>\\overline{CD}<\\/math> <math>N<\\/math>. <math>d<\\/math> is the [[median]] of triangle <math>\\triangle CDM<\\/math>. The formula for the length of a median is <math>m=\\sqrt{\\frac{2a^2+2b^2-c^2}{4}}<\\/math>, where <math>a<\\/math>, <math>b<\\/math>, and <math>c<\\/math> are the side lengths of triangle, and <math>c<\\/math> is the side that is bisected by median <math>m<\\/math>. The formula is a direct result of the [[Law of Cosines]] applied twice with the angles formed by the median ([[Stewart's Theorem]]). We can also get this formula from the parallelogram law, that the sum of the squares of the diagonals is equal to the squares of the sides of a parallelogram (https:\\/\\/en.wikipedia.org\\/wiki\\/Parallelogram_law).\n\nWe first find <math>CM<\\/math>, which is the median of <math>\\triangle CAB<\\/math>.\n\n<cmath>CM=\\sqrt{\\frac{98+2592-1681}{4}}=\\frac{\\sqrt{1009}}{2}<\\/cmath>\n\nNow we must find <math>DM<\\/math>, which is the median of <math>\\triangle DAB<\\/math>.\n\n<cmath>DM=\\frac{\\sqrt{425}}{2}<\\/cmath>\n\nNow that we know the sides of <math>\\triangle CDM<\\/math>, we proceed to find the length of <math>d<\\/math>.\n\n<cmath>d=\\frac{\\sqrt{548}}{2} \\Longrightarrow d^2=\\frac{548}{4}=\\boxed{137}<\\/cmath>\n\n\n### Value:\n137"),
        ('Given that <center><math>\\frac 1{2!17!}+\\frac 1{3!16!}+\\frac 1{4!15!}+\\frac 1{5!14!}+\\frac 1{6!13!}+\\frac 1{7!12!}+\\frac 1{8!11!}+\\frac 1{9!10!}=\\frac N{1!18!}<\\/math><\\/center> find the greatest integer that is less than <math>\\frac N{100}<\\/math>.\n\n', 'Multiplying both sides by <math>19!<\\/math> yields: \n\n<cmath>\\frac {19!}{2!17!}+\\frac {19!}{3!16!}+\\frac {19!}{4!15!}+\\frac {19!}{5!14!}+\\frac {19!}{6!13!}+\\frac {19!}{7!12!}+\\frac {19!}{8!11!}+\\frac {19!}{9!10!}=\\frac {19!N}{1!18!}.<\\/cmath>\n\n<cmath>\\binom{19}{2}+\\binom{19}{3}+\\binom{19}{4}+\\binom{19}{5}+\\binom{19}{6}+\\binom{19}{7}+\\binom{19}{8}+\\binom{19}{9} = 19N.<\\/cmath> \n\nRecall the [[combinatorial identity|Combinatorial Identity]] <math>2^{19} = \\sum_{n=0}^{19} {19 \\choose n}<\\/math>. Since <math>{19 \\choose n} = {19 \\choose 19-n}<\\/math>, it follows that <math>\\sum_{n=0}^{9} {19 \\choose n} = \\frac{2^{19}}{2} = 2^{18}<\\/math>.\n\nThus, <math>19N = 2^{18}-\\binom{19}{1}-\\binom{19}{0}=2^{18}-19-1 = (2^9)^2-20 = (512)^2-20 = 262124<\\/math>.\n\nSo, <math>N=\\frac{262124}{19}=13796<\\/math> and <math>\\left\\lfloor \\frac{N}{100} \\right\\rfloor =\\boxed{137}<\\/math>.\n\n\n\n### Value:\n137'),
        ('Let <math>R<\\/math> be the set of all possible remainders when a number of the form <math>2^n<\\/math>, <math>n<\\/math> a nonnegative integer, is divided by 1000. Let <math>S<\\/math> be the sum of the elements in <math>R<\\/math>. Find the remainder when <math>S<\\/math> is divided by 1000.\n\n', "Note that <math>x \\equiv y \\pmod{1000} \\Leftrightarrow x \\equiv y \\pmod{125}<\\/math> and <math>x \\equiv y \\pmod{8}<\\/math>. So we must find the first two integers <math>i<\\/math> and <math>j<\\/math> such that <math>2^i \\equiv 2^j \\pmod{125}<\\/math> and <math>2^i \\equiv 2^j \\pmod{8}<\\/math> and <math>i \\neq j<\\/math>. Note that <math>i<\\/math> and <math>j<\\/math> will be greater than 2 since remainders of <math>1, 2, 4<\\/math> will not be possible after 2 (the numbers following will always be congruent to 0 modulo 8). Note that <math>2^{100}\\equiv 1\\pmod{125}<\\/math> (see [[Euler's Totient Theorem|Euler's theorem]]) and <math>2^0,2^1,2^2,\\ldots,2^{99}<\\/math> are all distinct modulo 125 (proof below). Thus, <math>i = 103<\\/math> and <math>j =3<\\/math> are the first two integers such that <math>2^i \\equiv 2^j \\pmod{1000}<\\/math>. All that is left is to find <math>S<\\/math> in mod <math>1000<\\/math>. After some computation:\n<cmath>\nS = 2^0+2^1+2^2+2^3+2^4+...+2^{101}+ 2^{102} = 2^{103}-1 \\equiv 8 - 1 \\mod 1000 = \\boxed{007}.\n<\\/cmath>\nTo show that <math>2^0, 2^1,\\ldots, 2^{99}<\\/math> are distinct modulo 125, suppose for the sake of contradiction that they are not. Then, we must have at least one of <math>2^{20}\\equiv 1\\pmod{125}<\\/math> or <math>2^{50}\\equiv 1\\pmod{125}<\\/math>. However, writing <math>2^{10}\\equiv 25 - 1\\pmod{125}<\\/math>, we can easily verify that <math>2^{20}\\equiv -49\\pmod{125}<\\/math> and <math>2^{50}\\equiv -1\\pmod{125}<\\/math>, giving us the needed contradiction.\n\n\n### Value:\n007"),

    ]

    return examples


def get_similarity_question(query, questions):

    # ä½¿ç”¨TF-IDFå‘é‡åŒ–å™¨å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡
    vectorizer = TfidfVectorizer()
    tfidf_matrix = vectorizer.fit_transform(questions)

    # å°†æŒ‡å®šçš„é—®é¢˜ä¹Ÿè½¬æ¢ä¸ºå‘é‡
    query_vector = vectorizer.transform([query])

    # è®¡ç®—æŒ‡å®šé—®é¢˜ä¸Žåˆ—è¡¨ä¸­æ¯ä¸ªé—®é¢˜çš„ä½™å¼¦ç›¸ä¼¼åº¦
    cosine_similarities = cosine_similarity(query_vector, tfidf_matrix).flatten()

    # æ‰¾åˆ°æœ€åŒ¹é…çš„é—®é¢˜
    most_similar_index = np.argmax(cosine_similarities)
    most_similar_question = questions[most_similar_index]

    return most_similar_question
